<!--meal details on right-->
<div class="cms-recipeEdit">
    <h2>Recipe Photo</h2>
        <div class="admin-add-image">
            <!--prompt for new image-->
             <!-- add image has its own form -->
             <form 
                name="uploadImageForm"
                ng-submit="postImage()" 
                enctype="multipart/form-data"
                > 
                <!--changed to ng-submit because http://stackoverflow.com/questions/23700771/angular-post-to-node-server -->

            <input 
                type="file" 
                name="thumbnail" 
                ng-file-select="onFileSelect($files)" 
                data-ng-model="formMeal.image"
                >
                  
            Preview:
            <i ng-hide="formMeal.image">No image chosen</i>
            <img class="previewImage" ng-src="{{previewImage}}">

            <!-- <img style="height:50px" ng-src="{{imageSrc && imageSrc || formMeal.image}}"/><br/>-->
            <!--
            <span class="previewImage" ng-switch="imageSrc">              
                <img ng-switch-when="true" ng-src="imageSrc">
                <img ng-switch-when="false" ng-src="formMeal.image">
                <img ng-switch-default ng-src="">
            </span>
        -->
            <!--
            <img style="height:50px" ng-show="imageSrc" ng-src="{{imageSrc}}"/>
            <img style="height:50px" ng-show="formMeal.image" ng-src="{{formMeal.image}}"/><br/>
            </form>
            -->

            <!-- if user has chosen an image, offer trash can icon -->
            <a href="" ng-show="formMeal.image" ng-click="formMeal.image = ''"><img src="/assets/bin.png"/></a>

        </div>


    <form name="editMealForm">
    <h2>Recipe Name</h2>
        <input  type="text" 
                required 
                data-ng-model="formMeal.name" 
                placeholder="Give your meal a unique name."
                class="admin-input-oneline">

    <h2>Snippet</h2>
        <input  type="text" 
                required 
                data-ng-model="formMeal.snippet" 
                placeholder="A brief recipe description."
                class="admin-input-oneline">

    <h2>Description</h2>
        <input  type="text" 
                required 
                data-ng-model="formMeal.description" 
                placeholder="Tell us about this recipe, where it came from, why it's special. Be creative!"
                class="admin-input-paragraph"/>

    <h2>Tags</h2>
        <div class="shortInput">
            <ol>
                <li data-ng-repeat="tag in formMeal.tags">
                    <input  data-ng-model="formMeal.tags[$index].name"
                            class="admin-input-short">
                    <a href="" data-ng-click="formMeal.tags.splice($index,2)"><img src="/assets/delete.png"/></a>
                </li>
            </ol>

            <li>
                <input  data-ng-model="newTag.name"
                        class="admin-input-short">
                <a href="" data-ng-click="formMeal.tags.push(newTag); newTag={name:''}">ADD TAG</a>
            </li>

        </div>

    <h2>Dietary Options</h2>
        <div class="cms-checkboxes">
            <input  type="checkbox" 
                    name="mealOptions" 
                    value="noGluten" 
                    data-ng-model="formMeal.mealOptions.glutenfree">
                    Gluten free<br>

            <input  type="checkbox" 
                    name="mealOptions" 
                    value="noDairy" 
                    data-ng-model="formMeal.mealOptions.dairyfree">
                    Dairy free<br>

            <input  type="checkbox" 
                    name="mealOptions" 
                    value="lowCarb" 
                    data-ng-model="formMeal.mealOptions.lowcarb">
                    Low carb<br>

            <input  type="checkbox" 
                    name="mealOptions" 
                    value="lowFat" 
                    data-ng-model="formMeal.mealOptions.lowfat">
                    Low fat<br>

            <input  type="checkbox" 
                    name="mealOptions" 
                    value="paleo" 
                    data-ng-model="formMeal.mealOptions.paleo">
                    Paleo<br>

            <input  type="checkbox" 
                    name="mealOptions" 
                    value="quick" 
                    data-ng-model="formMeal.mealOptions.quick">
                    Quick<br>

        </div>

    <h2>Ingredients</h2>
        <ol class="ingredients-list">
            <!-- loop through and display existing ingredients -->
            <li data-ng-repeat="ingredient in formMeal.ingredients">
                <textarea   name="ingredientLines"
                            type="text"
                            data-ng-model="formMeal.ingredients[$index].name"
                            placeholder="Add ingredient"></textarea>
                
                <a href="" data-ng-click="formMeal.ingredients.splice($index,2)"><img src="/assets/delete.png"/></a>
            </li>

            <!-- entry box for adding new ingredient -->
            <li>
                <textarea   data-ng-model="newIngredient.name"
                            name="ingredientLines"
                            type="text"
                            placeholder="Add ingredient"></textarea>
                </br>
                <a href="" data-ng-click="formMeal.ingredients.push(newIngredient); newIngredient={name:''}">+ ADD ANOTHER INGREDIENT</a>
            </li>
        </ol>


    <h2>Recipe Steps</h2>
    <div class="cms-input-time">
        <ul>
            <li><b>PREP TIME</b>
                <input data-ng-model="formMeal.prepTime">
            </li>

            <li><b>COOK TIME</b>
                <input data-ng-model="formMeal.cookTime">
            </li>
        </ul>
    </div>

        <ol class="cms-recipeSteps">
            <!-- loop through and display existing step -->
            <li data-ng-repeat="step in formMeal.steps">
                <textarea data-ng-model="formMeal.steps[$index].name" class="admin-input-paragraph"></textarea>
                <a href="" data-ng-click="formMeal.steps.splice($index,2)"><img src="/assets/bin.png"/></a>
            </li>

            <!-- entry box for adding new step -->
            <li>
                <textarea data-ng-model="newStep.name" class="admin-input-paragraph"></textarea>
                <a href="" data-ng-click="formMeal.steps.push(newStep); newStep={name:''}">ADD STEP</a>
            </li>
        </ol>
        <br><br><br><br><br><br><br><br>
    </div>
</form>
</div>